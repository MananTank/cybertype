@import 'tailwindcss';

/* Default theme colors (Serendipity) */
:root {
  --bg: hsl(0deg 0% 16%);
  --secondary: hsl(118deg 2% 56%);
  --tertiary: hsl(0deg 0% 28%);
  --primary: hsl(47deg 84% 48%);
  --error: hsl(51deg 24% 79%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(47deg 84% 48%);
  --slow: hsl(0deg 92% 56%);
  --island-bg: hsl(47deg 84% 48%);
  --island-fg: hsl(0deg 0% 16%);
}

/* Define theme colors that reference CSS variables - inline keeps var() at runtime */
@theme inline {
  --color-bg: var(--bg);
  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  --color-tertiary: var(--tertiary);
  --color-error: var(--error);
  --color-fast: var(--fast);
  --color-normal: var(--normal);
  --color-slow: var(--slow);
  --color-island-bg: var(--island-bg);
  --color-island-fg: var(--island-fg);
}

/* Base styles */
@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    background: var(--bg);
  }

  body::-webkit-scrollbar {
    width: 6px;
  }

  body::-webkit-scrollbar-track {
    background: var(--bg);
  }

  body::-webkit-scrollbar-thumb {
    background: var(--tertiary);
  }

  body::-webkit-scrollbar-thumb:hover {
    background: var(--secondary);
  }
}

/* Theme overrides - all values explicit (no var() for island colors to avoid circular refs) */

/* Espresso */
[data-theme='0'] {
  --bg: hsl(0deg 12% 8%);
  --secondary: hsl(27deg 31% 70%);
  --tertiary: hsl(0deg 11% 24%);
  --primary: hsl(39deg 100% 61%);
  --error: hsl(4deg 96% 52%);
  --fast: hsl(39deg 100% 86%);
  --normal: hsl(39deg 100% 61%);
  --slow: hsl(4deg 96% 52%);
  --island-bg: hsl(39deg 100% 61%);
  --island-fg: hsl(0deg 12% 8%);
}

/* Campfire */
[data-theme='1'] {
  --bg: hsl(216deg 5% 21%);
  --tertiary: hsl(216deg 5% 36%);
  --secondary: hsl(24deg 100% 78%);
  --primary: hsl(13deg 85% 64%);
  --error: hsl(0deg 85% 64%);
  --fast: hsl(0deg 0% 60%);
  --normal: hsl(24deg 100% 78%);
  --slow: hsl(13deg 85% 64%);
  --island-bg: hsl(13deg 85% 64%);
  --island-fg: hsl(216deg 5% 21%);
}

/* Classic */
[data-theme='2'] {
  --bg: hsl(57deg 14% 67%);
  --tertiary: hsl(60deg 14% 76%);
  --secondary: hsl(69deg 8% 10%);
  --primary: hsl(60deg 33% 91%);
  --error: hsl(4deg 64% 52%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(60deg 100% 77%);
  --slow: hsl(4deg 100% 50%);
  --island-bg: hsl(60deg 33% 91%);
  --island-fg: hsl(69deg 8% 10%);
}

/* Halloween */
[data-theme='3'] {
  --bg: hsl(311deg 38% 6%);
  --tertiary: hsl(319deg 38% 18%);
  --secondary: hsl(26deg 100% 50%);
  --primary: hsl(76deg 99% 61%);
  --error: hsl(274deg 99% 56%);
  --fast: hsl(76deg 99% 61%);
  --normal: hsl(274deg 100% 81%);
  --slow: hsl(26deg 100% 50%);
  --island-bg: hsl(76deg 99% 61%);
  --island-fg: hsl(311deg 38% 6%);
}

/* Effervescent */
[data-theme='4'] {
  --bg: hsl(260deg 73% 66%);
  --tertiary: hsl(287deg 100% 80%);
  --secondary: hsl(263deg 35% 7%);
  --primary: hsl(95deg 100% 78%);
  --error: hsl(55deg 100% 65%);
  --fast: hsl(95deg 100% 74%);
  --normal: hsl(55deg 100% 50%);
  --slow: hsl(336deg 100% 85%);
  --island-bg: hsl(95deg 100% 78%);
  --island-fg: hsl(263deg 35% 7%);
}

/* Blackhole */
[data-theme='5'] {
  --bg: hsl(220deg 20% 3%);
  --tertiary: hsl(220deg 29% 13%);
  --secondary: hsl(221deg 20% 35%);
  --primary: hsl(221deg 100% 92%);
  --error: hsl(0deg 100% 50%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(221deg 19% 48%);
  --slow: hsl(0deg 100% 50%);
  --island-bg: hsl(221deg 100% 92%);
  --island-fg: hsl(220deg 20% 3%);
}

/* Serendipity */
[data-theme='6'] {
  --bg: hsl(0deg 0% 16%);
  --tertiary: hsl(0deg 0% 28%);
  --secondary: hsl(118deg 2% 56%);
  --primary: hsl(47deg 84% 48%);
  --error: hsl(51deg 24% 79%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(47deg 84% 48%);
  --slow: hsl(0deg 92% 56%);
  --island-bg: hsl(47deg 84% 48%);
  --island-fg: hsl(0deg 0% 16%);
}

/* Elixir */
[data-theme='7'] {
  --bg: hsl(243deg 55% 14%);
  --tertiary: hsl(257deg 50% 25%);
  --secondary: hsl(236deg 78% 62%);
  --primary: hsl(23deg 97% 54%);
  --error: hsl(82deg 97% 61%);
  --fast: hsl(82deg 97% 61%);
  --normal: hsl(236deg 81% 76%);
  --slow: hsl(23deg 97% 54%);
  --island-bg: hsl(23deg 97% 54%);
  --island-fg: hsl(243deg 55% 14%);
}

/* Eudaemonia */
[data-theme='8'] {
  --bg: hsl(53deg 7% 75%);
  --tertiary: hsl(53deg 7% 60%);
  --secondary: hsl(195deg 5% 15%);
  --primary: hsl(344deg 98% 33%);
  --error: hsl(0deg 0% 100%);
  --fast: hsl(53deg 100% 76%);
  --normal: hsl(0deg 0% 100%);
  --slow: hsl(344deg 98% 33%);
  --island-bg: hsl(344deg 98% 33%);
  --island-fg: hsl(53deg 7% 90%);
}

/* Tranquillity */
[data-theme='9'] {
  --bg: hsl(270deg 3% 85%);
  --tertiary: hsl(0deg 0% 100%);
  --secondary: hsl(209deg 10% 50%);
  --primary: hsl(320deg 9% 7%);
  --error: hsl(19deg 97% 57%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(209deg 10% 80%);
  --slow: hsl(19deg 97% 57%);
  --island-bg: hsl(320deg 9% 7%);
  --island-fg: hsl(270deg 3% 85%);
}

/* Aesthete */
[data-theme='10'] {
  --bg: hsl(0deg 0% 13%);
  --tertiary: hsl(0deg 0% 25%);
  --secondary: hsl(20deg 3% 79%);
  --primary: hsl(129deg 57% 39%);
  --error: hsl(5deg 72% 43%);
  --fast: hsl(129deg 73% 44%);
  --normal: hsl(0deg 0% 100%);
  --slow: hsl(5deg 77% 53%);
  --island-bg: hsl(129deg 57% 39%);
  --island-fg: hsl(0deg 0% 13%);
}

/* Sunlit */
[data-theme='11'] {
  --bg: hsl(210deg 100% 30%);
  --tertiary: hsl(210deg 64% 43%);
  --secondary: hsl(210deg 64% 75%);
  --primary: hsl(58deg 95% 61%);
  --error: hsl(182deg 100% 70%);
  --fast: hsl(170deg 100% 62%);
  --normal: hsl(0deg 0% 100%);
  --slow: hsl(63deg 95% 61%);
  --island-bg: hsl(58deg 95% 61%);
  --island-fg: hsl(210deg 100% 25%);
}

/* Witch Craft */
[data-theme='12'] {
  --bg: hsl(205deg 37% 8%);
  --tertiary: hsl(180deg 41% 17%);
  --secondary: hsl(19deg 75% 57%);
  --primary: hsl(179deg 31% 62%);
  --error: hsl(0deg 0% 100%);
  --fast: hsl(157deg 16% 58%);
  --normal: hsl(0deg 0% 100%);
  --slow: hsl(19deg 75% 57%);
  --island-bg: hsl(179deg 31% 62%);
  --island-fg: hsl(205deg 37% 8%);
}

/* Mechanical */
[data-theme='13'] {
  --bg: hsl(210deg 11% 15%);
  --tertiary: hsl(210deg 10% 23%);
  --secondary: hsl(208deg 7% 46%);
  --primary: hsl(359deg 77% 56%);
  --error: hsl(0deg 0% 100%);
  --fast: hsl(0deg 0% 100%);
  --normal: hsl(210deg 5% 52%);
  --slow: hsl(359deg 100% 70%);
  --island-bg: hsl(208deg 7% 46%);
  --island-fg: hsl(0deg 0% 100%);
}

/* Night Owl */
[data-theme='14'] {
  --bg: hsl(258deg 53% 7%);
  --tertiary: hsl(241deg 47% 29%);
  --secondary: hsl(232deg 69% 54%);
  --primary: hsl(11deg 89% 62%);
  --error: hsl(46deg 100% 50%);
  --fast: hsl(232deg 87% 69%);
  --normal: hsl(46deg 100% 50%);
  --slow: hsl(11deg 89% 62%);
  --island-bg: hsl(232deg 69% 54%);
  --island-fg: hsl(0deg 0% 100%);
}

/* Forest */
[data-theme='15'] {
  --bg: hsl(198deg 100% 8%);
  --tertiary: hsl(195deg 100% 18%);
  --secondary: hsl(198deg 10% 55%);
  --primary: hsl(43deg 100% 71%);
  --error: hsl(0deg 100% 64%);
  --fast: hsl(195deg 100% 34%);
  --normal: hsl(0deg 0% 100%);
  --slow: hsl(43deg 100% 71%);
  --island-bg: hsl(43deg 100% 71%);
  --island-fg: hsl(198deg 100% 8%);
}

/* Keyframes */
@keyframes cursor {
  0%,
  60% {
    background: var(--primary);
    color: var(--bg);
  }
  70%,
  100% {
    background: var(--bg);
    color: var(--primary);
  }
}

@keyframes cursor-error {
  0%,
  60% {
    background: var(--error);
    color: var(--bg);
  }
  70%,
  100% {
    background: var(--bg);
    color: var(--error);
  }
}

@keyframes loading {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-down {
  from {
    opacity: 0;
    filter: blur(4px);
    transform: translateY(-40px);
  }
  to {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

@keyframes glow {
  from {
    opacity: 0.2;
    transform: translate(-50%, -50%) scale(0.7);
  }
  to {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(1.2);
  }
}

/* Keyboard speed colors */
.color-fast {
  --color: var(--fast);
  --anim-duration: 2s;
}
.color-normal {
  --color: var(--normal);
  --anim-duration: 2.5s;
}
.color-slow {
  --color: var(--slow);
  --anim-duration: 3s;
}

/* Visibility states */
body:not(.typing) .hide-when-not-typing {
  pointer-events: none;
  opacity: 0;
}
body.typing .hide-when-tyasping {
  opacity: 0;
  transition: opacity 200ms ease, filter 200ms ease;
}
body:not(.typing) .show-when-typing {
  pointer-events: none;
  opacity: 0;
}
body:not(.show-pwa-install) .pwa-install-btn {
  display: none !important;
}

/* Dynamic Island */
.island-container {
  transition: opacity 200ms cubic-bezier(0.666, 0, 0.4, 1),
    transform 200ms cubic-bezier(0.666, 0, 0.4, 1);
}
body.typing .island-container {
  transform: translateY(-100%);
  opacity: 0;
  pointer-events: none;
}
body:not(.typing) .stats-container {
  display: none;
}
body.typing .nav {
  opacity: 0;
  transition: opacity 200ms ease;
}
